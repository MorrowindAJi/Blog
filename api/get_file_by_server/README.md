# 该方法是获取远程服务器上的日志文件等

>测试环境为tp3.2和tp5.1
>php版本为7.3


## 2019年12月18日更新

+ 新增了tp3的方法
+ 修改了server里的错误的方法
+ 新增了一个错误返回406



## 2019年12月17日更新 
在V2基础上进行了修改，有
+ 优化server的代码结构
+ 文件查询新增文件修改时间、文件页码
+ client新增了curl的回调下载
+ 修改了搜索文件、分页读取文件的返回类型

前端已经不再使用`window.open()`来进行输出，现在要查询文件内容将改为：使用新页面进行显示，页面里提供了搜索和跳页功能

>注意：文件的页数是以0开始


## 2019年12月16日更新 升级到V2版本

+ 优化server
+ 新增文件下载
+ 新增文件查询
+ 新增文件分页输出
+ 新增统计文件行数

在原基础上，修改了client请求的方式，使得前端已经不能使用`window.open()`这样的方式输出



## 2019年11月25日更新

+ 优化server和client的代码
+ 新增获取redis参数的方法
+ 新增删除redis、文件的方法 



客户端使用curl的方式获取 服务器上的特定接口地址，地址里面的数据经过验签等处理，将需要的文件夹目录下的文件返回给客户端

如果需要查看文件内容，可以将返回的内容前端方式打开：
~~~
var x=window.open();
x.document.open();
x.document.write('<div><pre style="white-space: pre-wrap;word-wrap: break-word;">'+内容+'</pre></div>');
x.document.close();
~~~

如果想原样输出html文件内容，将`pre`改为`xmp`即可


这样将打开一个新的窗口。

如果文件过大，可以使用`readFile()`来读取大文件，测试后发现6M的文件原来花费40S，优化后仅用2S。
目前还无法解决 传递数据到客户端的问题


